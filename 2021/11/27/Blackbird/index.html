<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="个人练习之用制作的插件包，更新中"/>




  <meta name="keywords" content="设计,建筑学,更新中,计算机," />





  <link rel="alternate" href="/atom.xml" title="Yefan Zhi Stockpile" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/List%20Drop.png?v=1.1" />



<link rel="canonical" href="https://Jiaomubaobao233.github.io/2021/11/27/Blackbird/"/>


<meta name="description" content="个人练习之用制作的插件包，更新中">
<meta property="og:type" content="article">
<meta property="og:title" content="Blackbird for Grasshopper">
<meta property="og:url" content="https://jiaomubaobao233.github.io/2021/11/27/Blackbird/index.html">
<meta property="og:site_name" content="Yefan Zhi Stockpile">
<meta property="og:description" content="个人练习之用制作的插件包，更新中">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jiaomubaobao233.github.io/2021/11/27/Blackbird/Blackbird/Blackbird-Poster.png">
<meta property="article:published_time" content="2021-11-28T04:11:45.000Z">
<meta property="article:modified_time" content="2022-12-25T17:31:52.813Z">
<meta property="article:author" content="Yefan Zhi">
<meta property="article:tag" content="设计">
<meta property="article:tag" content="建筑学">
<meta property="article:tag" content="更新中">
<meta property="article:tag" content="计算机">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jiaomubaobao233.github.io/2021/11/27/Blackbird/Blackbird/Blackbird-Poster.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> Blackbird for Grasshopper - Yefan Zhi Stockpile </title>
  <meta name="generator" content="Hexo 5.2.0"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Yefan Zhi Stockpile</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Blackbird for Grasshopper
        
      </h1>

      <time class="post-time">
          11月 28 2021
          
      </time>
      
    </header>



    
           <div class="post-excerpt post-content">
            
            
              
            

            
              个人练习之用制作的插件包，更新中
        </div>
            
            <div class="post-content">
            <!--|乌鸫
![](Blackbird/Blackbird.jpg)
**Blackbird: a Plug-in for Grasshopper**
Developed by [Yefan Zhi](https://linktr.ee/yefanzhi)

Polyhedral Structures Laboratory, University of Pennsylvania

使用.ghuser方式封装的建模和制造常用插件，欢迎反馈各类bug和建议。

&nbsp;

## 安装方式
![](Blackbird/说明1.jpg)
**方法一：**

将.ghuser插件拖入Grasshopper界面中。

**方法二：**


Grasshopper → File → Special Folders → User Object Folder 打开文件夹，将.ghuser插件解压在该文件夹内。

安装完成后，Blackbird会出现在Grasshopper插件栏内。更新版本时请删除旧版本。
-->

<p>Blackbird provides a set of useful tools for modeling and fabrication.</p>
<p>The logo of Blackbird is a hybrid of <a target="_blank" rel="noopener" href="https://ebird.org/species/eurbla">Eurasian Blackbird (<em>Turdus merula</em>)</a> and <a target="_blank" rel="noopener" href="https://ebird.org/species/rewbla">Red-winged Blackbird (<em>Agelaius phoeniceus</em>)</a>.</p>
<p>Installation: Unzip download. In Grasshopper, go to File &gt; Special Folders &gt; User Object Folder. Save the unzipped folder there and delete the previous one if you have it. Restart Rhino and Grasshopper.</p>
<p>This work is supported by <a target="_blank" rel="noopener" href="https://psl.design.upenn.edu/">Polyhedral Structures Laboratory</a> at Weitzman School of Design, University of Pennsylvania</p>
<p>Please feel free to contact me. Thank you very much.</p>
<p><img src="/2021/11/27/Blackbird/Blackbird/Blackbird-Poster.png" alt></p>
<p>&nbsp;</p>
<h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><p><a target="_blank" rel="noopener" href="https://www.food4rhino.com/en/app/blackbird">food4Rhino</a></p>
<p>&nbsp;</p>
<h2 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h2><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>2021.11.28</td>
<td>V0.0</td>
<td>Initial internal release.</td>
</tr>
<tr>
<td>2022.12.20</td>
<td>V1.0</td>
<td>Initial food4Rhino release.</td>
</tr>
<tr>
<td>2022.12.21</td>
<td>v1.1</td>
<td>Graphics update; components update.</td>
</tr>
<tr>
<td>2022.12.25</td>
<td>v1.2</td>
<td>Bug fix.</td>
</tr>
</tbody></table>
<p>&nbsp;</p>
<!--
## <h2 id="All">功能列表</h2>

|||
|-|-|
|Domain 区间|![](Blackbird/Blackbird/Domain%20Middle.png) Domain Middle 区间中点<br>![](Blackbird/Blackbird/Mid%20Len%20Domain.png) Mid Length Domain 中点宽度区间<br>![](Blackbird/Blackbird/Remap%20Domain.png) Remap Domain 映射区间
|List 列表|![](Blackbird/Blackbird/Accumulated%20Sum.png) Accumulated Sum 累计求和<br>![](Blackbird/Blackbird/List%20Max.png) List Max 列表最大值<br>![](Blackbird/Blackbird/List%20Min.png) List Min 列表最小值<br>![](Blackbird/Blackbird/List%20Sum.png) List Sum 列表求和<br>![](Blackbird/Blackbird/List%20to%20String.png) List to String 数列转字符串<br>![](Blackbird/Blackbird/List%20Drop.png) List Drop 列表去尾<br>![](Blackbird/Blackbird/Random%20Dispatch.png) Random Dispatch 随机分配<br>![](Blackbird/Blackbird/Dispatch%20into%20Tree.png) Dispatch into Tree 分配成树<br>![](Blackbird/Blackbird/Number%20Count.png) Number Count 数数<br>![](Blackbird/Blackbird/Tree%20to%20String.png) Tree to String 树转字符串
|Solid 实体|![](Blackbird/Blackbird/Center%20Line%20Box.png) Center Line Box 中心线长方体<br>![](Blackbird/Blackbird/Fillet%20Pipe.png) Fillet Pipe 倒角成管<br>![](Blackbird/Blackbird/Michelin%20Pipe.png) Michelin Pipe 米其林管<br>![](Blackbird/Blackbird/Handrail.png) [Handrail 扶手](#Handrail)<br>![](Blackbird/Blackbird/Stair.png) [Stair 楼梯](#Stair)<br>![](Blackbird/Blackbird/Arrange%20Layout.png) [Arrange Layout 平铺](#ArrangeLayout)
|Surface 曲面|![](Blackbird/Blackbird/UV%20Pattern.png) [UV Pattern UV图案](#UVPattern)<br>![](Blackbird/Blackbird/Orthogonality%20Check.png) [Orthogonality Check 正交检测](#OrthogonalityCheck)


## 部分功能使用说明

<strong id="Handrail">![](Blackbird/Blackbird/Handrail.png) Handrail 扶手 [⚐](#All)</strong>

根据平台边沿生成扶手。

![](Blackbird/Handrail.png)

|Input||
|-|-|
|**Polyline**|基准线，可以成环，**但一次只能一条单条curve**。建议使用平台边沿线join后得到的多段线。
|**Offset**|栏杆中心线与基准线的偏移距离。
|**Column Distance**|杆间距。非严格按此距离划分，而是贴近此距离平分各段。
|**Column Size**|杆的尺寸（底面正方形边长）。
|**Column Height**|杆高。
|**Handrail Size**|扶手尺寸（截面正方形边长）。

除Polyline之外，输入参数以米为单位内置了默认值。

&nbsp;

<strong id="Stair">![](Blackbird/Blackbird/Stair.png) Stair 楼梯 [⚐](#All)</strong>

根据楼板生成楼梯和扶手。

![](Blackbird/Stair.png)

![](Blackbird/Stair2.png)

|Input||
|-|-|
|**Surface/Brep**|楼板上表面，单个曲面或多重曲面。可以一次输入多个曲面。
|**Thickness**|楼板厚度。
|**Step Distance**|沿斜坡分割踏步的距离。非严格按此距离划分，而是贴近此距离平分各段。
|**Handrail Offset**|栏杆中心线与楼板边缘的偏移距离。
|**Column Distance**|杆间距。非严格按此距离划分，而是贴近此距离平分各段。
|**Column Size**|杆的尺寸（底面正方形边长）。
|**Column Height**|杆高。
|**Handrail Size**|扶手尺寸（截面正方形边长）。

除Surface/Brep之外，输入参数以米为单位内置了默认值。

&nbsp;

<strong id="ArrangeLayout">![](Blackbird/Blackbird/Arrange%20Layout.png) Arrange Layout 平铺 [⚐](#All)</strong>

将一些零件在地面沿格子平铺开来，并统一朝向。

![](Blackbird/Arrange%20Layout.png)

|Input||
|-|-|
|**Brep**|需要平铺的零件（多重曲面）。
|**Unit Size**|格子边长（模数）。
|**Min Margin**|零件到边框的最小距离。
|**N of Rows**|列数（平铺会优先铺满前一行，再新开一行，依此类推）。默认值为10。
|**Base Point**|平铺的基点。默认值为原点。

|Output||
|-|-|
|**Brep**|平铺后的零件。
|**Base**|每个零件的底座（长方形）。
|**Hull**|整体底座（长方形）。

&nbsp;

<strong id="UVPattern">![](Blackbird/Blackbird/UV%20Pattern.png) UV Pattern UV图案 [⚐](#All)</strong>

根据可以分为U、V两个方向扩展的图案平铺一个平面。常见的平铺，包括三角形、六边形等都可以按此逻辑完成。图中黄色的非输入值，为便于理解之用。

平铺过程使用了深度优先搜索（DFS）算法。

![](Blackbird/UV%20Pattern.png)

|Input||
|-|-|
|**Surface**|平铺的表面。
|**Pattern Crv**|平铺的图案单元（可以是多条curve）。
|**Pattern Pt**|该单元的基准点。需在该单元之内或边缘上。
|**U Next Pt**|U方向的下一个基准点。
|**V Next Pt**|V方向的下一个基准点。
|**Rotation**|旋转图案（0到360）。
|**Surface Base Pt**|平铺表面的基准点，可缺省。
|**U Tune [0,1]**|U方向的位置微调（0到1）。
|**V Tune [0,1]**|V方向的位置微调（0到1）。

默认图案为The MET Breuer表皮。

&nbsp;

<strong id="OrthogonalityCheck">![](Blackbird/Blackbird/Orthogonality%20Check.png) Orthogonality Check 正交检测 [⚐](#All)</strong>

判断曲面和曲线是否是正交的（横平竖直的），以及标识过于接近的可能是bug的点。用于形体建模过程中的检测。由于犀牛本身的精度限制，判断精度设为0.0001。

![](Blackbird/Orthogonality%20Check.png)

|Input||
|-|-|
|**S/B**|检测的（多重）曲面。
|**C**|检测的曲线。
|**P**|检测的点。
|**T**|过于接近的点的Tolerance，默认为0.3。
|**Size**|显示尺寸，默认为0.5。

|Output||
|-|-|
|**Orthogonal S**|正交的曲面，即法向量恰有一个非零分量。以绿色高亮。
|**1A S**|经过一次绕坐标轴旋转的曲面，即法向量恰有两个非零分量。以黄色高亮。
|**2A S**|经过两次绕坐标轴旋转的曲面，即法向量恰有三个非零分量。以红色高亮。
|**Orthogonal C**|正交的曲线，即对应的向量恰有一个非零分量。以绿色高亮。
|**1A C**|经过一次绕坐标轴旋转的曲线，即对应的向量恰有两个非零分量。以黄色高亮。
|**2A C**|经过两次绕坐标轴旋转的曲线，即对应的向量恰有三个非零分量。以红色高亮。
|**P**|过于接近的点。以红色标识。

注：实际判断曲线时，视每一段均为直线段（以各段首尾点相连结果判断）。

&nbsp;

## 更新日志

|||
|-|-|
|2021.11.28|内测版发布。
|2022.6.13|全面更新。
|2022.7.13|修复Dispatch into Tree顺序错误的bug。修复Tree to String路径简化的bug。


|2021.11.29|Handrail v0.04|修复单条直线无法生成bug。
||Stair v0.03|与Handrail扶手高度对齐，均为到扶手中心线高度。
||UV Pattern v0.05|旋转角度为弧度bug，不铺完整bug，多条曲线失效bug。更新示例。
|2021.11.30|UV Pattern v0.06|增加可选表面基准点。
|2021.12.03|Orthogonality Check v0.03|发布。
|2021.12.29|UV Pattern v0.11|表面基准点可原离目标平面，意味着可以统一多曲面的图案相位。优化修剪逻辑提高效率。修复图案非闭合曲线时的bug。
|2022.01.19|Arrange Layout v0.01|发布。
|2022.01.26|Mid Len Domain v0.01|发布。
||Remap Domain 0.01|发布。|
||List to String v0.01|发布。|
||Dispatch into Tree v0.01|发布。|
||Tree to String v0.01|发布。|
||Center Line Box v0.01|发布。|
||Arrange Layout v0.02|修复排布bug。
||UV Pattern v0.13|增加定位点输出。修改图标。
||Michelin Pipe v0.03|修改图标。
||Fillet Pipe v0.04|修改图标。
||Orthogonality Check v0.05|修改图标。
|2022.02.05|Center Line Box v0.02|修复多个曲线输入的bug。|
|2022.03.04|Number Count v0.01|发布。|
|2022.03.26|Center Line Box v0.03|加入基准平面输入。默认为XY平面。|
|2022.04.06|Center Line Box v0.04|修复数据结构bug。基准平面缺失时改为自动根据线的首端Frame生成。
||Stack Along v0.02|发布。|
||Stack Parallel v0.03|发布。|
-->
            </div>
          

    
      <footer class="post-footer">
		


		<div class="post-tags">
		  
			<a href="/tags/%E8%AE%BE%E8%AE%A1/">设计</a>
		  
			<a href="/tags/%E5%BB%BA%E7%AD%91%E5%AD%A6/">建筑学</a>
		  
			<a href="/tags/%E6%9B%B4%E6%96%B0%E4%B8%AD/">更新中</a>
		  
			<a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2022/01/07/Algorithms-Explained-and-Illustrated/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">《演算法图鉴》</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2021/07/24/20210724/">
        <span class="next-text nav-default">书架标签制作记录</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
    <div style="text-align:center;">
        <button class="btn" id="load-disqus" onclick="disqus.load();">加载 Disqus 评论</button>
    </div>
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2016 -
    
    2023
    <span class="footer-author">Yefan Zhi.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>.
    </span>

    <!-- 不蒜子统计 -->
    
    <span class="footer-author">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_site_pv"><span id="busuanzi_value_site_pv"></span> total views.</span>
    </span>
    
</span>


      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    

<script type="text/javascript">
  var disqus_shortname = 'andrew-zhi-stockpile';
  var disqus_identifier = '2021/11/27/Blackbird/';

  var disqus_title = "Blackbird for Grasshopper";


  var disqus = {
    load : function disqus(){
        if(typeof DISQUS !== 'object') {
          (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
          }());
          $('#load-disqus').remove(); ///加载后移除按钮
        }
    }
  }

  
    var disqus_config = function () {
        this.page.url = disqus_url;
        this.page.identifier = disqus_identifier;
        this.page.title = disqus_title;
    };
  

</script>


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
